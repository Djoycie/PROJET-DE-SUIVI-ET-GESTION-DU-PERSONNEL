<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Gestion Personnel & Postes</title>
  <link rel="stylesheet" href="poste.css" />
</head>
<body>
  <h1>Gestion des Postes</h1>

  <div class="container">
        <h1>üè¢ Gestion des Postes</h1>
        
        <!-- Formulaire d'ajout/modification -->
        <div class="form-section">
            <div id="form-mode-indicator" class="form-mode-indicator mode-add">
                Mode: Ajout d'un nouveau poste
            </div>
            
            <h2>üìù Formulaire de Poste</h2>
            <form id="add-poste-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="poste-id">ID du Poste</label>
                        <input type="text" id="poste-id" name="poste-id" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="intitule">Intitul√© du Poste *</label>
                        <input type="text" id="intitule" name="intitule" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="departement">D√©partement *</label>
                        <input type="text" id="departement" name="departement" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="places_desirees">Places D√©sir√©es *</label>
                        <input type="number" id="places_desirees" name="places_desirees" min="1" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" name="description" placeholder="Description d√©taill√©e du poste..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>Fiche de Poste</label>
                    <div class="file-input-wrapper">
                        <input type="file" id="fiche" name="fiche" accept=".pdf,.doc,.docx,.txt" required>
                        <label for="fiche" class="file-input-label">
                            üìé Choisir un fichier
                        </label>
    
      
                    </div>
                    <div id="file-info" class="file-info" style="display: none;"></div>
                    <div id="current-file-info" class="file-info" style="display: none;"></div>
                </div>
                
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary" id="submit-btn">
                        ‚ûï Ajouter le Poste
                    </button>
                    <button type="button" class="btn btn-secondary" id="cancel-btn" style="display: none;">
                        ‚ùå Annuler
                    </button>
                </div>
            </form>
        </div>
        
        <!-- Section de recherche -->
        <div class="search-section">
            <input type="text" id="search-postes" class="search-input" placeholder="üîç Rechercher un poste...">
        </div>
        
        <!-- Tableau des postes -->
        <div class="table-container">
            <table id="table-postes">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Intitul√©</th>
                        <th>D√©partement</th>
                        <th>Places D√©sir√©es</th>
                        <th>Place occup√©es</th>
                        <th>Places Restantes</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="7" class="loading">Chargement des donn√©es...</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
<div id="modal-poste-details" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close" id="close-modal-poste">&times;</span>
    <div id="modal-poste-body"></div>
     <button type="button" id="voir-fiche-poste-modal">Voir la fiche</button>
  </div>
</div>

<div id="details-poste"></div>
  </section>

  <!-- Exemple de formulaire de modification (√† afficher lors du clic sur Modifier) -->
<!-- Formulaire de modification (cach√© par d√©faut) -->
<form id="edit-poste-form" style="display:none;">
  <input type="hidden" name="id" />
  <input type="text" name="intitule" placeholder="Intitul√©" required />
  <input type="text" name="departement" placeholder="D√©partement" required />
  <input type="number" name="places_desirees" placeholder="Places d√©sir√©es" required />
  <textarea name="description" placeholder="Description" required></textarea>
  <button type="submit">Enregistrer</button>
</form>

   <a href="accueil.html" class="back-button">Retour au Tableau de Bord</a>

  <script src="poste.js"></script>
</body>
</html>

 