<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="audit.css">
    <title>Journaux d'Audit - Gestion RH</title>
    
</head>
<body>
    <div class="header-bar">
        <span id="welcome-message"></span>
         <div class="logo-container">
            <img src="../PROJET-DE-SUIVI-ET-GESTION-DU-PERSONNEL/images/HR-etoile2.png" alt="Logo" class="log">
         </div>
    </div>
    
    <div class="gauche">
       <b class="button-nav" onclick="location.href='analyse_cv.html'">Recrutement</b>
       <b class="button-nav" onclick="location.href='postes.html'">Postes</b>
       <b class="button-nav" onclick="location.href='personnel.html'">Personnel</b>
       <b class="button-nav" onclick="location.href='carriere.html'">Carrière</b>
       <b class="button-nav" onclick="location.href='conges.html'">Congés</b>
       <b class="button-nav" onclick="location.href='paie.html'">Paie</b>
       <b class="button-nav" onclick="location.href='stages_formation.html'">Stage/formation</b>
       <b class="button-nav" onclick="location.href='plan_activite.html'">Statistiques</b>
       <b class="button-nav" onclick="location.href='utilisateurs.html'">Utilisateurs</b>
       <b class="button-la" onclick="location.href='audit.html'">Audit</b>
       <b class="button-nav" onclick="location.href='sauvegarde.html'">Sauvegardes</b>
       <b class="button-nav" onclick="location.href='parametres.html'">Paramètres</b>
        <a href="accueil.html" class="button-nav"><b>Retour</B></a>
    </div>

    <div class="container">
        <div class="header">
            <div class="user-info">
                <div class="user-badge" id="currentUserInfo">Chargement...</div>
            </div>
            <h1>📊 Journaux d'Audit</h1>
            <p>Surveillance complète des activités utilisateurs</p>
        </div>

        <div class="container_s">
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalLogs">-</div>
                <div class="stat-label">Total Activités</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="todayLogs">-</div>
                <div class="stat-label">Aujourd'hui</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="activeUsers">-</div>
                <div class="stat-label">Utilisateurs Actifs</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="criticalActions">-</div>
                <div class="stat-label">Actions Critiques</div>
            </div>
        </div>

        <div class="filters">
            <div class="filter-row">
                <div class="filter-group">
                    <label for="userFilter">👤 Utilisateur</label>
                    <select id="userFilter">
                        <option value="">Tous les utilisateurs</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="roleFilter">🎭 Rôle</label>
                    <select id="roleFilter">
                        <option value="">Tous les rôles</option>
                        <option value="admin">Administrateur</option>
                        <option value="rh">RH</option>
                        <option value="secretaire">Secrétaire</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="actionFilter">⚡ Type d'action</label>
                    <select id="actionFilter">
                        <option value="">Toutes les actions</option>
                        <option value="LOGIN">Connexion</option>
                        <option value="LOGOUT">Déconnexion</option>
                        <option value="CREATE">Création</option>
                        <option value="UPDATE">Modification</option>
                        <option value="DELETE">Suppression</option>
                        <option value="VIEW">Consultation</option>
                        <option value="ACCESS_DENIED">Accès refusé</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="moduleFilter">📁 Module</label>
                    <select id="moduleFilter">
                        <option value="">Tous les modules</option>
                        <option value="employees">Employés</option>
                        <option value="payroll">Paie</option>
                        <option value="reports">Rapports</option>
                        <option value="settings">Paramètres</option>
                        <option value="users">Utilisateurs</option>
                        <option value="audit">Audit</option>
                        <option value="auth">Authentification</option>
                    </select>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-group">
                    <label for="dateFrom">📅 Date de début</label>
                    <input type="date" id="dateFrom">
                </div>
                <div class="filter-group">
                    <label for="dateTo">📅 Date de fin</label>
                    <input type="date" id="dateTo">
                </div>
                
                <div class="filter-actions">
                    <button class="btn btn-primary" onclick="filterLogs()">🔍 Filtrer</button>
                    <button class="btn btn-secondary" onclick="resetFilters()">🔄 Réinitialiser</button>
                    <button class="btn refresh-btn" onclick="refreshLogs()">🔄 Actualiser</button>
                    <button class="btn export-btn" onclick="exportLogs()">📤 Exporter</button>
                </div>
            </div>
        </div>

        <div class="logs-container" id="logsContainer">
            <div class="loading">
                <div class="spinner"></div>
                <p>Chargement des journaux d'audit...</p>
            </div>
        </div>
    </div>
    </div>
</body>
</html>